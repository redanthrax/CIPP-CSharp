<AuthorizeView>
    <Authorized>
        @ChildContent
    </Authorized>
    <NotAuthorized>
        <MudContainer MaxWidth="MaxWidth.Small" Class="mt-16">
            <MudPaper Elevation="4" Class="pa-8 text-center">
                <MudIcon Icon="@Icons.Material.Filled.Lock" 
                         Size="Size.Large" 
                         Color="Color.Primary" 
                         Class="mb-4" />
                <MudText Typo="Typo.h4" Class="mb-4">
                    Authentication Required
                </MudText>
                <MudText Typo="Typo.body1" Class="mb-6">
                    You need to be signed in to access this page.
                </MudText>
                <MudButton Variant="Variant.Filled" 
                           Color="Color.Primary"
                           StartIcon="@Icons.Material.Filled.Login"
                           OnClick="@SignIn">
                    Sign In
                </MudButton>
            </MudPaper>
        </MudContainer>
    </NotAuthorized>
    <Authorizing>
        <MudContainer MaxWidth="MaxWidth.Small" Class="mt-16">
            <MudPaper Elevation="4" Class="pa-8 text-center">
                <MudProgressCircular Size="Size.Large" 
                                     Indeterminate="true" 
                                     Color="Color.Primary"
                                     Class="mb-4" />
                <MudText Typo="Typo.h6">
                    Authenticating...
                </MudText>
            </MudPaper>
        </MudContainer>
    </Authorizing>
</AuthorizeView>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Inject] private IAuthenticationService AuthService { get; set; } = default!;

    private async Task SignIn() {
        await AuthService.SignInAsync();
    }
}
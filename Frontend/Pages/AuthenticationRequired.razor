@page "/authentication-required"
@layout EmptyLayout
@inject IAuthenticationService AuthService

<PageTitle>Authentication Required - CIPP</PageTitle>

<div class="auth-container">
    <MudContainer MaxWidth="MaxWidth.Small">
        <MudPaper Elevation="8" Class="auth-card pa-12 text-center">
            <MudIcon Icon="@Icons.Material.Filled.Lock" Size="Size.Large" Color="Color.Primary" Class="auth-icon mb-6" />
            <MudText Typo="Typo.h4" Class="mb-4" Color="Color.Primary">CIPP</MudText>
            <MudText Typo="Typo.h6" Class="mb-2">Authentication Required</MudText>
            <MudText Typo="Typo.body1" Class="mb-8" Style="color: var(--cipp-text-color);">
                Please sign in with your Microsoft account to continue accessing the Cyberdrain Improved Partner Portal.
            </MudText>
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Size="Size.Large" StartIcon="@Icons.Material.Filled.Login" OnClick="@SignIn" Class="px-8">
                Sign In with Microsoft
            </MudButton>
        </MudPaper>
    </MudContainer>
</div>

@code {
    private async Task SignIn() {
        await AuthService.SignInAsync();
    }
}

@page "/authentication/{action}"
@layout EmptyLayout
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

<RemoteAuthenticatorView Action="@Action">
    <LogInFailed>
        <div class="auth-container">
            <MudContainer MaxWidth="MaxWidth.Small">
                <MudPaper Elevation="8" Class="auth-card pa-12 text-center">
                    <MudIcon Icon="@Icons.Material.Filled.ErrorOutline" Size="Size.Large" Color="Color.Error" Class="auth-icon mb-6" />
                    <MudText Typo="Typo.h4" Class="mb-4" Color="Color.Error">Login Failed</MudText>
                    <MudText Typo="Typo.body1" Class="mb-8" Style="color: var(--cipp-text-color);">
                        There was a problem signing you in. Please try again.
                    </MudText>
                    <div class="d-flex flex-column gap-4">
                        <MudButton Variant="Variant.Filled" 
                                   Color="Color.Primary" 
                                   Size="Size.Large"
                                   StartIcon="@Icons.Material.Filled.Login"
                                   Href="/authentication/login"
                                   Class="px-8">
                            Try Again
                        </MudButton>
                        <MudButton Variant="Variant.Outlined" 
                                   Color="Color.Primary"
                                   StartIcon="@Icons.Material.Filled.Home"
                                   Href="/">
                            Go to Home
                        </MudButton>
                    </div>
                </MudPaper>
            </MudContainer>
        </div>
    </LogInFailed>
    <LogOutFailed>
        <div class="auth-container">
            <MudContainer MaxWidth="MaxWidth.Small">
                <MudPaper Elevation="8" Class="auth-card pa-12 text-center">
                    <MudIcon Icon="@Icons.Material.Filled.ErrorOutline" Size="Size.Large" Color="Color.Error" Class="auth-icon mb-6" />
                    <MudText Typo="Typo.h4" Class="mb-4" Color="Color.Error">Logout Failed</MudText>
                    <MudText Typo="Typo.body1" Class="mb-8" Style="color: var(--cipp-text-color);">
                        There was a problem signing you out. Please try again.
                    </MudText>
                    <div class="d-flex flex-column gap-4">
                        <MudButton Variant="Variant.Filled" 
                                   Color="Color.Primary" 
                                   Size="Size.Large"
                                   StartIcon="@Icons.Material.Filled.Logout"
                                   Href="/authentication/logout"
                                   Class="px-8">
                            Try Again
                        </MudButton>
                        <MudButton Variant="Variant.Outlined" 
                                   Color="Color.Primary"
                                   StartIcon="@Icons.Material.Filled.Home"
                                   Href="/">
                            Go to Home
                        </MudButton>
                    </div>
                </MudPaper>
            </MudContainer>
        </div>
    </LogOutFailed>
    <LoggingIn>
        <div class="auth-container">
            <MudContainer MaxWidth="MaxWidth.Small">
                <MudPaper Elevation="8" Class="auth-card pa-12 text-center">
                    <MudProgressCircular Size="Size.Large" Indeterminate="true" Color="Color.Primary" Class="mb-6" />
                    <MudText Typo="Typo.h6" Class="mb-2">Signing In...</MudText>
                    <MudText Typo="Typo.body2" Style="color: var(--cipp-text-color);">Please wait while we sign you in with Microsoft.</MudText>
                </MudPaper>
            </MudContainer>
        </div>
    </LoggingIn>
    <LogOut>
        <div class="auth-container">
            <MudContainer MaxWidth="MaxWidth.Small">
                <MudPaper Elevation="8" Class="auth-card pa-12 text-center">
                    <MudProgressCircular Size="Size.Large" Indeterminate="true" Color="Color.Primary" Class="mb-6" />
                    <MudText Typo="Typo.h6" Class="mb-2">Signing Out...</MudText>
                    <MudText Typo="Typo.body2" Style="color: var(--cipp-text-color);">Please wait while we sign you out.</MudText>
                </MudPaper>
            </MudContainer>
        </div>
    </LogOut>
    <CompletingLoggingIn>
        <div class="auth-container">
            <MudContainer MaxWidth="MaxWidth.Small">
                <MudPaper Elevation="8" Class="auth-card pa-12 text-center">
                    <MudProgressCircular Size="Size.Large" Indeterminate="true" Color="Color.Primary" Class="mb-6" />
                    <MudText Typo="Typo.h6" Class="mb-2">Completing Sign In...</MudText>
                    <MudText Typo="Typo.body2" Style="color: var(--cipp-text-color);">Just a moment while we finish signing you in.</MudText>
                </MudPaper>
            </MudContainer>
        </div>
    </CompletingLoggingIn>
    <CompletingLogOut>
        <div class="auth-container">
            <MudContainer MaxWidth="MaxWidth.Small">
                <MudPaper Elevation="8" Class="auth-card pa-12 text-center">
                    <MudProgressCircular Size="Size.Large" Indeterminate="true" Color="Color.Primary" Class="mb-6" />
                    <MudText Typo="Typo.h6" Class="mb-2">Completing Sign Out...</MudText>
                    <MudText Typo="Typo.body2" Style="color: var(--cipp-text-color);">Just a moment while we finish signing you out.</MudText>
                </MudPaper>
            </MudContainer>
        </div>
    </CompletingLogOut>
    <LogOutSucceeded>
        <div class="auth-container">
            <MudContainer MaxWidth="MaxWidth.Small">
                <MudPaper Elevation="8" Class="auth-card pa-12 text-center">
                    <MudIcon Icon="@Icons.Material.Filled.CheckCircle" Size="Size.Large" Color="Color.Success" Class="auth-icon mb-6" />
                    <MudText Typo="Typo.h4" Class="mb-4" Color="Color.Success">Signed Out</MudText>
                    <MudText Typo="Typo.body1" Class="mb-8" Style="color: var(--cipp-text-color);">
                        You have been successfully signed out.
                    </MudText>
                    <MudButton Variant="Variant.Filled" 
                               Color="Color.Primary" 
                               Size="Size.Large"
                               StartIcon="@Icons.Material.Filled.Login"
                               Href="/authentication/login"
                               Class="px-8">
                        Sign In Again
                    </MudButton>
                </MudPaper>
            </MudContainer>
        </div>
    </LogOutSucceeded>
</RemoteAuthenticatorView>

@code{
    [Parameter] public string? Action { get; set; }
}
